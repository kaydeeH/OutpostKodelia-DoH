#config_version=5

mode:
  start_events: ball_starting
  priority: 100
  file_log: full

#The first ball save is the "playfield validation" save and will save unlimited balls until
#a switch with the "kpf" tag is registered.  Once this happens, the real ball save starts
#which is time limited and will save at most one ball.

event_player:
  mode_base_started:
    - start_base_shows
    - next_song
    - start_car_sounds

ball_saves:
  ball_save_validate:
    balls_to_save: -1
    disable_events: sw_kpf
    auto_launch: false
    early_ball_save_events: sw_early_ball_save

  ball_save_main:
    active_time: settings.initial_ball_save
    hurry_up_time: 4s
    grace_period: 3s
    enable_events: ball_save_ball_save_validate_disabled{settings.initial_ball_save>0}
    auto_launch: true
    balls_to_save: 1
    early_ball_save_events: sw_early_ball_save

show_player:
  start_base_shows:
    coin_lights_show:
      key: coin_lights_show_key
      priority: 1
  ball_save_ball_save_main_timer_start:
    ball_save_flash:
      key: ball_save
      speed: 2
      show_tokens:
        color: ff7500
        lightsbb: l_backbox_09_shootagain_1, l_backbox_10_shootagain_2
        colorbb: white
  ball_save_ball_save_main_hurry_up:
    ball_save_flash:
      key: ball_save
      speed: 4
      show_tokens:
        color: ff7500
        lightsbb: l_backbox_09_shootagain_1, l_backbox_10_shootagain_2
        colorbb: white
  ball_save_ball_save_main_disabled:
    ball_save: stop

sound_player:
  spinner_default_hit: dirt_peel
  next_song:
    gameplay_music:
      delay: 500ms
      action: play
      loops: 0
      about_to_finish_time: 250ms
      events_when_about_to_finish: next_song
  start_car_sounds:
    rev_up:
      action: play
      loops: 0
      about_to_finish_time: 500ms
      events_when_about_to_finish: start_car_idle
  start_car_idle:
    idle:
      action: play
      loops: -1
  shooter_lane_empty:
    idle:
      action: stop
    launch_car:
      action: play
      loops: 0
  drop_target_R0_down:
    car_door:
      action: play
      loops: 0
      volume: .8
  drop_target_R1_down:
    car_door:
      action: play
      loops: 0
      volume: .8
  drop_target_R2_down:
    car_door:
      action: play
      loops: 0
      volume: .8
  s_thumper_center_active:
    ricochet:
      action: play
      loops: 0
  s_thumper_left_active:
    ricochet:
      action: play
      loops: 0
  s_thumper_right_active:
    ricochet:
      action: play
      loops: 0